<hbox flex="1">

<popupset>
    <popup id="video-menu" onpopupshowing="javascript:;">
        <menuitem
            class="menuitem-iconic play-action"
            label="&play;"
            oncommand="videolist_ref.play();"/>
        <menu
            label="&rating;">
            <menupopup id="video-rating-menu">
                <menuitem
                    label=" 0 "
                    oncommand="videolist_ref.setRating(0);"/>
                <menuitem
                    label="1 ♪"
                    oncommand="videolist_ref.setRating(1);"/>
                <menuitem
                    label="2 ♪♪"
                    oncommand="videolist_ref.setRating(2);"/>
                <menuitem
                    label="3 ♪♪♪"
                    oncommand="videolist_ref.setRating(3);"/>
                <menuitem
                    label="4 ♪♪♪♪"
                    oncommand="videolist_ref.setRating(4);"/>
            </menupopup>
        </menu>
    </popup>
</popupset>

<vbox
    persist="width"
    id="selectvideo-box"
    flex="1">
    <tabbox id="selectvideo-panel" flex="1">
        <tabs>
            <tab class="home-menu" label="&directory;"/>
            <tab class="search-menu" label="&search;"/>
        </tabs>

        <tabpanels flex="1">
            <tabpanel orient="vertical" flex="1">
            <tree
                id="videodir-tree"
                ref="http://videodir/all-content"
                onclick = "videolib_ref.setDirectory(event);"
                datasources="rdf:null"
                hidecolumnpicker="true"
                seltype="single"
                flex="1">
                <treecols>
                    <treecol hideheader="true" id="videodir-title"
                        flex="1" primary="true"/>
                    <treecol hideheader="true"
                        width="30px"
                        id="videodir-select"/>
                </treecols>

                <template>
                <rule>
                    <treechildren
                        id="videodir-content">
                        <treeitem uri="rdf:*">
                            <treerow>
                                <treecell
                                    properties="folder"
                                    label="rdf:http://videodir/rdf#title"/>
                                <treecell properties="videodir-select"/>
                            </treerow>
                        </treeitem>
                    </treechildren>
                </rule>
                </template>
            </tree>
            </tabpanel>

            <tabpanel orient="vertical" flex="1">
                <hbox id="videosearch-box">
                    <textbox
                        flex="1"
                        oncommand="videolib_ref.search();"
                        timeout="700"
                        type="timed"
                        id="videosearch-text"/>
                </hbox>
            </tabpanel>
        </tabpanels>
    </tabbox>

    <hbox>
        <deck id="video-update" flex="1">
            <button
                id="video-update-button"
                class="update-button"
                oncommand="ajaxdj_ref.send_command('videoUpdate',null,false);"
                label="&updateVideoDB;"/>
            <progressmeter
                id="video-update-progressbar"
                mode="determined"/>
        </deck>
    </hbox>

</vbox>

<splitter persist="position" collapse="before" resizeafter="farthest">
    <grippy/>
</splitter>

<vbox
    id="videotree-box"
    persist="width"
    flex="5">
    <tree
        id="video-tree"
        enableColumnDrag="true"
        ref="http://video/all-content"
        datasources="rdf:null"
        flex="4">
        <treecols>
            <treecol persist="width ordinal hidden" id="video-status"
                label=""/>
            <splitter class="tree-splitter"/>
            <treecol persist="width ordinal hidden" id="video-title"
                flex="4" label="&title;"/>
            <splitter class="tree-splitter"/>
            <treecol persist="width ordinal hidden" id="video-width"
                flex="1" label="&width;"/>
            <splitter class="tree-splitter"/>
            <treecol persist="width ordinal hidden" id="video-height"
                flex="1" label="&height;"/>
            <splitter class="tree-splitter"/>
            <treecol persist="width ordinal hidden" id="video-length"
                flex="1" label="&length;"/>
            <splitter class="tree-splitter"/>
            <treecol persist="width ordinal hidden" id="video-rating"
                flex="2" label="&rating;"/>
            <splitter class="tree-splitter"/>
            <treecol persist="width ordinal hidden" id="video-subtitle"
                hidden="true" flex="4" label="&subtitle;"/>
        </treecols>

        <template>
        <rule>

            <treechildren
                ondraggesture = "videolist_ref.dragStart(event);"
                ondblclick = "videolist_ref.play();"
                oncontextmenu="videolist_ref.showPopupMenu(event);"
                id="video-items">
                <treeitem uri="rdf:*"
                          value="rdf:http://video/rdf#media_id">
                    <treerow value="rdf:http://video/rdf#media_id">
                        <treecell label=""/>
                        <treecell label="rdf:http://video/rdf#title"/>
                        <treecell label="rdf:http://video/rdf#videowidth"/>
                        <treecell label="rdf:http://video/rdf#videoheight"/>
                        <treecell label="rdf:http://video/rdf#length"/>
                        <treecell label="rdf:http://video/rdf#rating"/>
                        <treecell
                            label="rdf:http://video/rdf#external_subtitle"/>
                    </treerow>
                </treeitem>
            </treechildren>

        </rule>
        </template>
    </tree>
    <hbox align="center">
        <description value="&playorder;"/>
        <menulist
            id="video-playorder"
            oncommand="videolist_ref.setPlayorder();"
            label="">
            <menupopup>
                <menuitem value="inorder" label="&inorder;"/>
                <menuitem value="onemedia" label="&onemedia;"/>
                <menuitem value="random" label="&random;"/>
                <menuitem value="random-weighted" label="&randomWeighted;"/>
            </menupopup>
        </menulist>
        <command
            oncommand=
              "ajaxdj_ref.send_command('repeat',{source:'video'},true);"
            id="vidrepeat-command"/>
        <checkbox
            label="&repeat;"
            id="video-repeat"
            command="vidrepeat-command"
            checked="false"/>
        <spacer flex="1"/>
        <description id="videolist-description" value=""/>
    </hbox>
</vbox>

</hbox>
