<div class="col-xs-12 col-md-3" id="djd-main-sidebar">
    <div>
      <ul class="nav nav-pills nav-stacked" id="djd-audio-menu">
          <li ng-class="{'active': currentView =='filesystem'}">
              <a href=""
                 ng-click="setCurrentView('filesystem')">{{ '_filesystem_' | i18n }}</a>
          </li>
          <li ng-class="{'active': currentView =='genre'}">
              <a href=""
                 ng-click="setCurrentView('genre')">{{ '_genre_' | i18n }}</a>
          </li>
          <li ng-class="{'active': currentView =='artist'}">
              <a href=""
                 ng-click="setCurrentView('artist')">{{ '_artist_' | i18n }}</a>
          </li>
          <li ng-class="{'active': currentView =='album'}">
              <a href=""
                 ng-click="setCurrentView('album')">{{ '_album_' | i18n }}</a>
          </li>
      </ul>
    </div>
</div>
<div class="col-xs-12 col-md-9">
    <nav class="navbar navbar-default">
        <p class="navbar-text"></p>
        <form class="navbar-form navbar-left" ng-show="currentView!='filesystem'">
            <div class="form-group">
                <input class="form-control"
                       type="text"
                       placeholder="{{ '_filter_' | i18n }}"
                       ng-model="filterPattern"/>
            </div>
            <button ng-click="filterPattern = ''"
                    class="btn btn-default">{{ '_clear_' | i18n }}</button>
        </form>
        <div class="navbar-right">
            <button type="button"
                    ng-disabled="reloadInProgress"
                    ng-click="reloadLibrary()"
                    ng-class="{'djd-in-progress': reloadInProgress}"
                    class="btn btn-default navbar-btn">
                <span class="glyphicon glyphicon-refresh"></span>
                {{ '_update_' | i18n }}
            </button>
        </div>
    </nav>

    <div ng-switch on="currentView">
        <div ng-switch-when="filesystem">
            <ol class="breadcrumb" ng-show="fsPath != ''">
                <li ng-repeat="p in fsBreadcrumbs">
                    <a ng-click="loadFolder($event, p.path)">{{p.name}}</a>
                </li>
                <li class="active">{{ fsName }}</li>
            </ol>

            <div ng-show="loading" style="text-align: center">
                <div class="djd-progress-img"></div>
            </div>

            <div ng-hide="loading">
                <div class="list-group">
                    <a djd-folder
                       folder-no="$index+1" folder="folder"
                       load-folder="loadFolder"
                       library-type="'music'"
                       ng-repeat="folder in directories"
                       href=""
                       class="list-group-item row"/>
                    <a djd-file
                       file-no="$index+1" file="file"
                       ng-repeat="file in files"
                       href=""
                       class="list-group-item row"/>
                </div>
            </div>
        </div>

        <div ng-controller="DjdGenreNavigationCtrl" ng-switch-when="genre">
            <ol class="breadcrumb" ng-show="activeView.type != 'genre'">
                <li>
                    <a ng-click="goBack()">{{activeView.backLabel }}</a>
                </li>
                <li class="active">{{ activeView.label }}</li>
            </ol>


            <div ng-show="loading" style="text-align: center">
                <div class="djd-progress-img"></div>
            </div>
            <div ng-hide="loading">
                <div class="list-group" ng-show="activeView.type == 'genre'">
                    <a djd-audiotag
                       tagname="activeView.type"
                       tag="tag"
                       load-albums="loadAlbums"
                       ng-show="filterPattern == '' || tag.toLowerCase().indexOf(filterPattern.toLowerCase()) != -1"
                       ng-repeat="tag in tagList"
                       href=""
                       class="list-group-item row"></a>
                </div>

                <div class="djd-album-container row" ng-show="activeView.type == 'album'">
                    <div djd-album
                         album="album"
                         ng-repeat="album in albumList"
                         ng-show="filterPattern == '' || album.name.toLowerCase().indexOf(filterPattern.toLowerCase()) != -1"
                         class="class djd-album-item col-xs-6 col-sm-4 col-md-4 col-lg-3">
                    </div>
                </div>
            </div>
        </div>

        <div ng-controller="DjdArtistNavigationCtrl" ng-switch-when="artist">
            <ol class="breadcrumb" ng-show="activeView.type != 'artist'">
                <li>
                    <a ng-click="goBack()">{{activeView.backLabel }}</a>
                </li>
                <li class="active">{{ activeView.label }}</li>
            </ol>


            <div ng-show="loading" style="text-align: center">
                <div class="djd-progress-img"></div>
            </div>
            <div ng-hide="loading">
                <div class="list-group" ng-show="activeView.type == 'artist'">
                    <a djd-audiotag
                       tagname="activeView.type"
                       tag="tag"
                       load-albums="loadAlbums"
                       ng-show="filterPattern == '' || tag.toLowerCase().indexOf(filterPattern.toLowerCase()) != -1"
                       ng-repeat="tag in tagList"
                       href=""
                       class="list-group-item row"></a>
                </div>

                <div class="djd-album-container row" ng-show="activeView.type == 'album'">
                    <div djd-album
                         album="album"
                         ng-repeat="album in albumList"
                         ng-show="filterPattern == '' || album.name.toLowerCase().indexOf(filterPattern.toLowerCase()) != -1"
                         class="class djd-album-item col-xs-6 col-sm-4 col-md-4 col-lg-3">
                    </div>
                </div>
            </div>
        </div>

        <div ng-controller="DjdAlbumNavigationCtrl" ng-switch-when="album">
            <div ng-show="loading" style="text-align: center">
                <div class="djd-progress-img"></div>
            </div>
            <div ng-hide="loading">
                <div class="djd-album-container row">
                    <div djd-album
                         album="album"
                         ng-show="filterPattern == '' || album.name.toLowerCase().indexOf(filterPattern.toLowerCase()) != -1"
                         ng-repeat="album in albumList"
                         class="class djd-album-item col-xs-6 col-sm-4 col-md-4 col-lg-3">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
